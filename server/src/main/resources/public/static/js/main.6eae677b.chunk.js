(this.webpackJsonptimelog_web=this.webpackJsonptimelog_web||[]).push([[0],{358:function(e,t,a){},405:function(e,t,a){e.exports=a(532)},410:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){},416:function(e,t,a){},509:function(e,t,a){},510:function(e,t,a){},511:function(e,t,a){},512:function(e,t,a){},532:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),o=a.n(i),l=(a(410),a(61)),c=a(62),s=a(45),u=a(63),m=a(64),d=a(111),p=a(33),f=a(126),h=(a(411),a(412),a(534)),b=a(556),y=a(537),g=a(557),v=a(538),E=a(46),T=a(16),D=a(269),O=a.n(D),j=a(270),S=a.n(j),k=["/tutorial1.jpg","/tutorial2.jpg","/tutorial3.jpg","/tutorial4.jpg","/tutorial5.jpg","/tutorial6.jpg","/tutorial7.jpg","/tutorial8.jpg"],w=Object(E.a)((function(e){return{root:{width:"100%",maxWidth:"32vw",flexGrow:1},header:{display:"flex",alignItems:"center",height:50,paddingLeft:e.spacing(4),backgroundColor:e.palette.background.default},img:{maxWidth:"32vw",display:"block",width:"100%"}}}));function C(e){var t=w(),a=Object(T.a)(),n=r.a.useState(0),i=Object(p.a)(n,2),o=i[0],l=i[1],c=k.length;return r.a.createElement("div",null,r.a.createElement(h.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title",maxWidth:"md"},r.a.createElement(b.a,{style:{textAlign:"center"}},"How To Use Timelog"),r.a.createElement(y.a,null,r.a.createElement("div",{className:t.root},r.a.createElement("img",{className:t.img,alt:"tutorialStep",src:k[o]}),r.a.createElement(g.a,{steps:c,position:"static",variant:"dots",activeStep:o,nextButton:r.a.createElement(f.a,{size:"small",onClick:function(){l((function(e){return e+1}))},disabled:o===c-1},"Next","rtl"===a.direction?r.a.createElement(O.a,null):r.a.createElement(S.a,null)),backButton:r.a.createElement(f.a,{size:"small",onClick:function(){l((function(e){return e-1}))},disabled:0===o},"rtl"===a.direction?r.a.createElement(S.a,null):r.a.createElement(O.a,null),"Back")}))),r.a.createElement(v.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"secondary"},"Close"))))}var I=a(127),L=a(372),x=a(373),M=a(382),N=a.n(M),A=a(383),Y=a.n(A);a(416);var R=function(e){return'\n  <html lang="en"\n  <head>\n    <meta charset="utf-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\n    <meta name="viewport" content="width=device-width,initial-scale=1.0">\n    <title>timelog</title>\n    <link\n    rel="stylesheet"\n    href="https://fonts.googleapis.com/icon?family=Material+Icons"\n    />\n    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />\n    <link href="/js/app.js" rel="preload" as="script"><link href="/js/chunk-vendors.js" rel="preload" as="script"><style type="text/css">\n    <style type="text/css">\n      html, body {\n        height: 100%;\n        margin: 0;\n      }\n      body {\n        background-color: #3C3D42;\n      }\n      tr {\n        color: #FFFFFF;\n      }\n      .board-text {\n        text-align: center;\n        color: #FFFFFF;\n      }\n      .board-split {\n        margin-top: 50px;\n      }\n      .export-button {\n        position: absolute;\n        left: 0;\n      }\n    </style>\n    <style type="text/css">/* Chart.js */\n    /*\n    * DOM element rendering detection\n    * https://davidwalsh.name/detect-node-insertion\n    */\n    @keyframes chartjs-render-animation {\n    from { opacity: 0.99; }\n    to { opacity: 1; }\n    }\n\n    .chartjs-render-monitor {\n    animation: chartjs-render-animation 0.001s;\n    }\n\n    /*\n    * DOM element resizing detection\n    * https://github.com/marcj/css-element-queries\n    */\n    .chartjs-size-monitor,\n    .chartjs-size-monitor-expand,\n    .chartjs-size-monitor-shrink {\n    position: absolute;\n    direction: ltr;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n    pointer-events: none;\n    visibility: hidden;\n    z-index: -1;\n    }\n\n    .chartjs-size-monitor-expand > div {\n    position: absolute;\n    width: 1000000px;\n    height: 1000000px;\n    left: 0;\n    top: 0;\n    }\n\n    .chartjs-size-monitor-shrink > div {\n    position: absolute;\n    width: 200%;\n    height: 200%;\n    left: 0;\n    top: 0;\n    }\n    </style>\n    <style data-jss="" data-meta="MuiTable">\n.MuiTable-root {\n  width: 100%;\n  display: table;\n  border-spacing: 0;\n  border-collapse: collapse;\n}\n.MuiTable-root caption {\n  color: rgba(0, 0, 0, 0.54);\n  padding: 16px;\n  font-size: 0.875rem;\n  text-align: left;\n  font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n  font-weight: 400;\n  line-height: 1.43;\n  caption-side: bottom;\n  letter-spacing: 0.01071em;\n}\n.MuiTable-stickyHeader {\n  border-collapse: separate;\n}\n</style>\n<style data-jss="" data-meta="MuiTableBody">\n.MuiTableBody-root {\n  display: table-row-group;\n}\n</style>\n<style data-jss="" data-meta="MuiTableCell">\n.MuiTableCell-root {\n  display: table-cell;\n  padding: 16px;\n  font-size: 0.875rem;\n  text-align: left;\n  font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n  font-weight: 400;\n  line-height: 1.43;\n  border-bottom: 1px solid\n    rgba(224, 224, 224, 1);\n  letter-spacing: 0.01071em;\n  vertical-align: inherit;\n}\n.MuiTableCell-head {\n  color: #FFFFFF;\n  font-weight: 500;\n  line-height: 1.5rem;\n}\n.MuiTableCell-body {\n  color: rgba(0, 0, 0, 0.87);\n}\n.MuiTableCell-footer {\n  color: rgba(0, 0, 0, 0.54);\n  font-size: 0.75rem;\n  line-height: 1.3125rem;\n}\n.MuiTableCell-sizeSmall {\n  padding: 6px 24px 6px 16px;\n}\n.MuiTableCell-sizeSmall:last-child {\n  padding-right: 16px;\n}\n.MuiTableCell-sizeSmall.MuiTableCell-paddingCheckbox {\n  width: 24px;\n  padding: 0 12px 0 16px;\n}\n.MuiTableCell-sizeSmall.MuiTableCell-paddingCheckbox:last-child {\n  padding-left: 12px;\n  padding-right: 16px;\n}\n.MuiTableCell-sizeSmall.MuiTableCell-paddingCheckbox > * {\n  padding: 0;\n}\n.MuiTableCell-paddingCheckbox {\n  width: 48px;\n  padding: 0 0 0 4px;\n}\n.MuiTableCell-paddingCheckbox:last-child {\n  padding-left: 0;\n  padding-right: 4px;\n}\n.MuiTableCell-paddingNone {\n  padding: 0;\n}\n.MuiTableCell-paddingNone:last-child {\n  padding: 0;\n}\n.MuiTableCell-alignLeft {\n  text-align: left;\n}\n.MuiTableCell-alignCenter {\n  text-align: center;\n}\n.MuiTableCell-alignRight {\n  text-align: right;\n  flex-direction: row-reverse;\n}\n.MuiTableCell-alignJustify {\n  text-align: justify;\n}\n.MuiTableCell-stickyHeader {\n  top: 0;\n  left: 0;\n  z-index: 2;\n  position: sticky;\n  background-color: #fafafa;\n}\n</style>\n<style data-jss="" data-meta="MuiTableFooter">\n.MuiTableFooter-root {\n  display: table-footer-group;\n}\n</style>\n<style data-jss="" data-meta="MuiTableHead">\n.MuiTableHead-root {\n  display: table-header-group;\n}\n</style>\n<style data-jss="" data-meta="MuiTableRow">\n.MuiTableRow-root {\n  color: inherit;\n  display: table-row;\n  outline: 0;\n  vertical-align: middle;\n}\n.MuiTableRow-root.MuiTableRow-hover:hover {\n  background-color: rgba(0, 0, 0, 0.04);\n}\n.MuiTableRow-root.Mui-selected, .MuiTableRow-root.Mui-selected:hover {\n  background-color: rgba(245, 0, 87, 0.08);\n}\n</style>\n<style data-jss="" data-meta="MuiTableSortLabel">\n.MuiTableSortLabel-root {\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  flex-direction: inherit;\n  justify-content: flex-start;\n}\n.MuiTableSortLabel-root:focus {\n  color: rgba(0, 0, 0, 0.54);\n}\n.MuiTableSortLabel-root:hover {\n  color: #FFFFFF;\n}\n.MuiTableSortLabel-root.MuiTableSortLabel-active {\n  color: rgba(0, 0, 0, 0.87);\n}\n.MuiTableSortLabel-root.MuiTableSortLabel-active.MuiTableSortLabel-root.MuiTableSortLabel-active .MuiTableSortLabel-icon {\n  color: rgba(0, 0, 0, 0.54);\n  opacity: 1;\n}\n.MuiTableSortLabel-root:hover .MuiTableSortLabel-icon {\n  opacity: 0.5;\n}\n.MuiTableSortLabel-icon {\n  opacity: 0;\n  font-size: 18px;\n  transition: opacity 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,transform 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  margin-left: 4px;\n  user-select: none;\n  margin-right: 4px;\n}\n.MuiTableSortLabel-iconDirectionDesc {\n  transform: rotate(0deg);\n}\n.MuiTableSortLabel-iconDirectionAsc {\n  transform: rotate(180deg);\n}\ntable {\n  border: solid;\n  border-color: #FFFFFF;\n  color: #FFFFFF;\n}\ntr {\n  color: #FFFFFF;\n}\n.board-text {\n  text-align: center;\n}\n.board-split {\n  display: flex;\n  flex-direction: row;\n  margin-top: 50px; \n}\n.export-button {\n  position: absolute;\n  left: 0;\n}\n.reactgooglegraph-1{\n  width: 80%;\n}\n.chart{\n  width: 50%;\n}\n.table{\n  margin-left: 5%;\n  width: 40%;\n}\n\n</style>\n  </head>\n  <body>\n  '.concat(e,"\n  </body>\n  </html>")},F=a(375),_=a.n(F),H=a(14),B=a.n(H),P=function(e){var t=R(e.outerHTML),a=new Blob([t],{type:"text/plain;charset=utf-8"}),n=B()(localStorage.getItem("startDate")).format("YYYYMMDD")+"_"+B()(localStorage.getItem("endDate")).format("YYYYMMDD");_.a.saveAs(a,n+".html")},z=a(28),W=a(147),V=a.n(W),G=a(399),q=a(367);function U(e){return{type:"SET_DASH_BOARD",dashBoardData:e}}function J(e,t){return{type:"LOAD_DASH_BOARD",userID:e,token:t,setDashBoard:function(e,t){return t(U(e))}}}var X=a(4),$=a(565),K={SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))}))},Q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).flipOpen=function(){return n.setState(Object(L.a)({},n.state,{open:!n.state.open}))},n.handleClick=function(e){n.initialize(),n.state.anchorEl?n.setState({anchorEl:null}):n.setState({anchorEl:e.currentTarget}),n.flipOpen()},n.handleProfileClose=function(e){n.state.anchorEl?n.setState({anchorEl:null}):n.setState({anchorEl:e.currentTarget}),n.flipOpen()},n.exportReport=n.exportReport.bind(Object(s.a)(n)),n.render=n.render.bind(Object(s.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(s.a)(n)),n.handleSelectAll=n.handleSelectAll.bind(Object(s.a)(n)),n.submit=n.submit.bind(Object(s.a)(n)),n.initialize=n.initialize.bind(Object(s.a)(n)),n.state={anchorEl:null,open:!1,activityTypeList:[],flag:!0,filterList:[],select:!1},n}return Object(c.a)(a,[{key:"exportReport",value:function(){P(this.reportElement)}},{key:"handleInputChange",value:function(e){var t,a=Object(I.a)(this.state.activityTypeList);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.name===e.target.value&&(n.checked=e.target.checked),!1===n.checked&&this.setState({select:!1})}}catch(o){a.e(o)}finally{a.f()}var r,i=Object(I.a)(this.state.activityTypeList);try{for(i.s();!(r=i.n()).done;){if(!0!==r.value.checked){this.setState({select:!1});break}this.setState({select:!0})}}catch(o){i.e(o)}finally{i.f()}this.setState({activityTypeList:this.state.activityTypeList})}},{key:"handleSelectAll",value:function(e){if(!1===this.state.select){var t,a=Object(I.a)(this.state.activityTypeList);try{for(a.s();!(t=a.n()).done;){t.value.checked=!0}}catch(i){a.e(i)}finally{a.f()}this.setState({select:!0})}else{var n,r=Object(I.a)(this.state.activityTypeList);try{for(r.s();!(n=r.n()).done;){n.value.checked=!1}}catch(i){r.e(i)}finally{r.f()}this.setState({select:!1})}this.setState({activityTypeList:this.state.activityTypeList})}},{key:"initialize",value:function(){var e=this;if(0===this.state.activityTypeList.length)this.setState({activityTypeList:[]}),this.props.activityTypeList.map((function(t){return e.props.dashBoardData.tableData.map((function(a){if(a.activityTypeName===t.name){var n={name:t.name,checked:!1};return e.state.activityTypeList.push(n),!0}return!1}))}));else{var t,a=Object(I.a)(this.state.activityTypeList);try{for(a.s();!(t=a.n()).done;){t.value.checked=!1}}catch(n){a.e(n)}finally{a.f()}this.setState({select:!1})}}},{key:"submit",value:function(){this.setState({filterList:[]});var e,t=Object(I.a)(this.state.activityTypeList);try{for(t.s();!(e=t.n()).done;){var a=e.value;!0===a.checked&&this.state.filterList.push(a.name)}}catch(n){t.e(n)}finally{t.f()}this.props.updateDashBoard(localStorage.getItem("uid"),null,this.state.filterList)}},{key:"render",value:function(){var e=this,t=this.props.classes,a="#FFFFFF";return r.a.createElement("div",null,r.a.createElement("div",{className:t.exportButton},r.a.createElement(f.a,{startIcon:r.a.createElement(N.a,null),onClick:this.exportReport,variant:"outlined",style:{color:a,borderColor:a,marginLeft:35}},"Export"),r.a.createElement("p",{className:t.exportText},"Please adjust the web browser",r.a.createElement("br",null),"zoom to 100% for better result")),r.a.createElement("div",{className:"selector-button"},r.a.createElement(f.a,{onClick:function(t){return e.handleClick(t)},startIcon:r.a.createElement(Y.a,null),variant:"outlined",style:{color:a,borderColor:a,marginLeft:35}},"Filter"),r.a.createElement("div",{className:"popover"},r.a.createElement(G.a,{open:this.state.open,anchorEl:this.state.anchorEl,onClose:this.handleProfileClose,anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"},style:{width:"150%",height:"150%"}},r.a.createElement("div",{className:"filter-list"},r.a.createElement(q.a,{checked:this.state.select,onChange:this.handleSelectAll}),"Select All"),this.state.activityTypeList.map((function(t,a){return r.a.createElement("div",{className:"filter-list"},r.a.createElement(q.a,{value:t.name,checked:t.checked,onChange:e.handleInputChange}),t.name)})),r.a.createElement("center",null,r.a.createElement(f.a,{className:"filter-btn",onClick:this.submit,color:"secondary"},"Submit"))))),r.a.createElement("div",{ref:function(t){e.reportElement=t}},r.a.createElement("h1",{className:"board-title board-text"},"".concat(localStorage.getItem("displayName"),"'s Dashboard")),r.a.createElement("h2",{className:"board-duration board-text"},B()(localStorage.getItem("startDate")).format("YYYY/MM/DD"),"~",B()(localStorage.getItem("endDate")).format("YYYY/MM/DD")),r.a.createElement("h3",{className:"board-spent-time board-text"},"Spent Time : ",this.props.dashBoardData.totalTime),r.a.createElement("div",{className:"board-split"},r.a.createElement("div",{className:"chart"},r.a.createElement(x.a,{minWidth:"",width:"99%",height:"50vh",chartType:"PieChart",loader:r.a.createElement("div",null,"Loading Chart"),data:this.props.dashBoardData.pieData,options:{chartArea:{width:"100%",height:"95%",left:"5%",right:"5%"},title:"DashBoard",tooltip:{trigger:"none"},legend:{position:"left"},legendTextStyle:{color:a},backgroundColor:"#3C3D42",color:a},rootProps:{"data-testid":"1"}})),r.a.createElement("div",{className:"table"},r.a.createElement(V.a,{title:"",icons:K,columns:[{title:"Activity Type",field:"activityTypeName",backgroundColor:"#3C3D42"},{title:"Spent Time",field:"timeLength",defaultSort:"desc"},{title:"Percentage",field:"percentage"}],data:this.props.dashBoardData.tableData,sortDirection:"timeLength",options:{search:!1,paging:!1,toolbar:!1,sorting:!0,tableLayout:"fixed"}})))))}}]),a}(n.Component);var Z=Object(X.a)((function(e){return{root:{width:"100%",maxWidth:"32vw",flexGrow:1},exportText:{fontSize:"10pt",color:"#FFFFFF",opacity:0},exportButton:{position:"absolute",top:"5%","&:hover p":{opacity:1}}}}),{withTheme:!0})(Object(z.b)((function(e){return{dashBoardData:e.dashBoardData,activityTypeList:e.activityTypeList}}),(function(e){return{updateDashBoard:function(t,a,n){return e(function(e,t,a){return{type:"UPDATE_DASH_BOARD",userID:e,token:t,filterList:a,setDashBoard:function(e,t){return t(U(e))}}}(t,a,n))}}}))(Object(d.g)(Q))),ee=a(219),te=a(268),ae=a(333);function ne(e){return{type:"SET_HISTORY",logHistory:e}}function re(e,t){return{type:"LOAD_LOG_HISTORY",userID:e,token:t,setHistory:function(e,t){return t(ne(e))}}}function ie(e,t){return{type:"LOAD_ACTIVITY_TYPE_LIST",userID:e,token:t,setActivityTypeList:function(e,t){return t(oe(e))}}}function oe(e){return{type:"SET_ACTIVITY_TYPE_LIST",activityTypeList:e}}var le=a(23),ce=a(257),se=a(79),ue=a(566),me=a(567),de=a(568),pe=a(569),fe=a(570),he=a(571),be=a(572),ye=a(573),ge=a(574),ve=a(575),Ee=a(576),Te=a(577),De=a(578),Oe=a(579),je={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(ue.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(me.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(ye.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ve.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(Te.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(De.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))}))},Se=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={startTime:0,endTime:0,columns:[{title:"Title",field:"title",editComponent:function(e){return r.a.createElement(ee.a,{defaultValue:e.value,onChange:function(t){return e.onChange(t.target.value)},autoFocus:!0})}},{title:"Activity Type",field:"activityTypeName",editComponent:function(e){return r.a.createElement(te.a,{value:e.value,onChange:function(t){return e.onChange(t.target.value)}},n.props.activityTypeList.map((function(e,t){return!1!==e.enable?r.a.createElement(ae.a,{value:e.name,key:t},e.name):0})))},initialEditValue:e.value},{title:"Start Time",field:"startTime",defaultSort:"desc",editComponent:function(e){var t=e.value,a=e.onChange;return r.a.createElement(le.a,{utils:se.default},r.a.createElement(ce.a,{maxDate:B()().toDate(),format:"yyyy/MM/dd HH:mm",value:t,onChange:a}))}},{title:"End Time",field:"endTime",editComponent:function(e){var t=e.value,a=e.onChange;return r.a.createElement(le.a,{utils:se.default},r.a.createElement(ce.a,{maxDate:B()().toDate(),format:"yyyy/MM/dd HH:mm",value:t,onChange:a}))}}]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(V.a,{title:"Log History",icons:je,columns:this.state.columns,data:this.props.logHistory,options:{search:!0,paging:!1},localization:{body:{editRow:{deleteText:"Are you sure you want to delete this log?"}}},editable:{onRowDelete:function(t){return new Promise((function(a,n){e.props.removeLog(localStorage.getItem("uid"),null,t.id),a()}))},onRowUpdate:function(t,a){return new Promise((function(n,r){t.title&&""!==t.title?B()(t.endTime)<=B()(t.startTime)?(alert("Start Time should be eariler than End Time."),r()):setTimeout((function(){e.props.editLog(localStorage.getItem("uid"),null,a.id,t.title,t.activityTypeName,B()(t.startTime).format("YYYY/MM/DD HH:mm"),B()(t.endTime).format("YYYY/MM/DD HH:mm"),null),n()}),1e3):(alert("Title should not be empty."),r())}))}}}))}}]),a}(n.Component);var ke=Object(z.b)((function(e){return{activityTypeList:e.activityTypeList,logHistory:e.logHistory}}),(function(e){return{removeLog:function(t,a,n){e(function(e,t,a){return{type:"REMOVE_LOG",userID:e,token:t,logID:a,loadLogHistory:function(e,t,a){return a(re(e,t))},loadDashBoard:function(e,t,a){return a(J(e,t))}}}(t,a,n))},editLog:function(t,a,n,r,i,o,l,c){e(function(e,t,a,n,r,i,o,l){return{type:"EDIT_LOG",userID:e,token:t,logID:a,title:n,activityTypeName:r,startTime:i,endTime:o,description:l,loadLogHistory:function(e,t,a){return a(re(e,t))},loadDashBoard:function(e,t,a){return a(J(e,t))}}}(t,a,n,r,i,o,l,c))}}}))(Object(d.g)(Se)),we={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(ue.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(me.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(ye.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ve.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(Te.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(De.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))}))},Ce=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={columns:[{title:"Activity Type",field:"name",editComponent:function(e){return r.a.createElement(ee.a,{defaultValue:e.value,onChange:function(t){return e.onChange(t.target.value)},autoFocus:!0})}},{title:"Private",field:"private",type:"boolean"},{title:"Enable",field:"enable",type:"boolean",initialEditValue:"true"}]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(V.a,{title:"Activity",icons:we,columns:this.state.columns,data:this.props.activityTypeList,options:{search:!0,sorting:!0,paging:!1},localization:{body:{editRow:{deleteText:"Are you sure you want to delete this activity?"}}},editable:{isEditable:function(e){return"LabProject"!==e.name&&"LabDuty"!==e.name},isDeletable:function(e){return"LabProject"!==e.name&&"LabDuty"!==e.name},onRowAdd:function(t){return new Promise((function(a,n){setTimeout((function(){e.props.addActivityType(localStorage.getItem("uid"),null,t.name,t.enable,t.private),a()}),1e3)}))},onRowUpdate:function(t,a){return new Promise((function(n,r){setTimeout((function(){e.props.editActivityType(localStorage.getItem("uid"),null,a.name,t.name,t.enable,t.private),n()}),1e3)}))},onRowDelete:function(t){return new Promise((function(a,n){setTimeout((function(){e.props.removeActivityType(localStorage.getItem("uid"),null,t.name),a()}),1e3)}))}}}))}}]),a}(n.Component);var Ie=[{path:"/board",name:"Board",component:Z},{path:"/history",name:"History",component:ke},{path:"/activity",name:"Activity",component:Object(z.b)((function(e){return{activityTypeList:e.activityTypeList}}),(function(e){return{editActivityType:function(t,a,n,r,i,o){return e(function(e,t,a,n,r,i){return{type:"EDIT_ACTIVITY_TYPE",userID:e,token:t,targetActivityTypeName:a,activityTypeName:n,isEnable:r,isPrivate:i,loadActivityTypeList:function(e,t,a){return a(ie(e,t))},loadLogHistory:function(e,t,a){return a(re(e,t))},loadDashBoard:function(e,t,a){return a(J(e,t))}}}(t,a,n,r,i,o))},addActivityType:function(t,a,n,r,i){return e(function(e,t,a,n,r){return{type:"ADD_ACTIVITY_TYPE",userID:e,token:t,activityTypeName:a,isEnable:n,isPrivate:r,loadActivityTypeList:function(e,t,a){return a(ie(e,t))}}}(t,a,n,r,i))},removeActivityType:function(t,a,n){return e(function(e,t,a){return{type:"REMOVE_ACTIVITY_TYPE",userID:e,activityTypeName:a,loadActivityTypeList:function(e,t,a){return a(ie(e,t))}}}(t,0,n))}}}))(Object(d.g)(Ce))},{path:"/",name:"Welcome",component:function(){var e=r.a.useState(!1),t=Object(p.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"welcome"},r.a.createElement("div",{className:"dropwater-container"},r.a.createElement("div",{className:"dropwater"})),r.a.createElement("div",{className:"drop-container"},r.a.createElement("div",{className:"drop"},r.a.createElement("img",{className:"welcome-logo",alt:"welcome",src:"WelcomeLOGO.png"}))),r.a.createElement("div",{className:"get-started-button fade-in"},r.a.createElement(f.a,{variant:"outlined",color:"primary",onClick:function(){n(!0)}},"Get Started"))),r.a.createElement(C,{className:"Tutorial",open:a,handleClose:function(){n(!1)}}))}}],Le=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.c,null,Ie.map((function(e,t){return r.a.createElement(d.a,{path:e.path,component:e.component,key:e.path})}))))}}]),a}(n.Component),xe=a(123),Me=a(543),Ne=a(549),Ae=a(539),Ye=a(226),Re=a(265),Fe=a(563),_e=a(564),He=a(350),Be=a(81),Pe=a(386),ze=a.n(Pe),We=a(388),Ve=a.n(We),Ge=a(389),qe=a.n(Ge),Ue=a(390),Je=a.n(Ue),Xe=a(392),$e=a.n(Xe),Ke=a(391),Qe=a.n(Ke),Ze=a(393),et=a.n(Ze),tt=a(387),at=a.n(tt),nt=a(255),rt=(a(509),a(266)),it=a(256),ot=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={title:"",description:"",startTime:0,endTime:0,activityTypeName:"",isEnable:!0},n.submit=n.submit.bind(Object(s.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=B()(),t=e.toDate(),a=e.subtract(this.props.duration,"seconds").toDate();this.setState({startTime:a,endTime:t})}},{key:"componentDidUpdate",value:function(e){this.props.duration!==e.duration&&this.setState({endTime:B()().toDate(),startTime:B()().subtract(this.props.duration,"seconds").toDate()})}},{key:"submit",value:function(){if(this.state.title&&""!==this.state.title)if(this.state.activityTypeName&&""!==this.state.activityTypeName)if(B()(this.state.endTime)<=B()(this.state.startTime))alert("Start Time should be eariler than End Time.");else{this.props.handleClose(),this.props.newLog(localStorage.getItem("uid"),null,this.state.title,this.state.activityTypeName,B()(this.state.startTime).format("YYYY/MM/DD HH:mm"),B()(this.state.endTime).format("YYYY/MM/DD HH:mm"),this.state.description),this.setState({title:"",activityTypeName:"",startTime:B()().add(-1,"hours").toDate(),endTime:B()().toDate(),description:""})}else alert("Activity Type is not selected.");else alert("Title should not be empty.")}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{open:this.props.open,onClose:this.props.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(b.a,{id:"add-log-dialog-title"},"Add Log"),r.a.createElement(y.a,null,r.a.createElement("form",null,r.a.createElement(Re.a,{fullWidth:!0,required:!0},r.a.createElement(rt.a,{htmlFor:"title",required:!0},"Title"),r.a.createElement(ee.a,{id:"title",onChange:function(t){e.setState({title:t.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Re.a,{fullWidth:!0},r.a.createElement(rt.a,{id:"activity-type-select-label",required:!0},"Activity Type"),r.a.createElement(te.a,{labelId:"activity-type-select-label",id:"activity-type-select",value:this.state.activityTypeName,onChange:function(t){return e.setState({activityTypeName:t.target.value})}},this.props.activityTypeList.map((function(e,t){return!1!==e.enable?r.a.createElement(ae.a,{value:e.name,key:t},e.name):0})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(le.a,{utils:se.default},r.a.createElement(Ye.a,{container:!0,spacing:3},r.a.createElement(Ye.a,{item:!0,xs:6},r.a.createElement(Re.a,{className:""},r.a.createElement(nt.a,{autoOk:!0,label:"Start Date",required:!0,maxDate:B()().toDate(),value:this.state.startTime,format:"yyyy/MM/dd",onChange:function(t){var a=B()(t),n=B()(e.state.endTime);n.year(a.year()).month(a.month()).date(a.date()),e.setState({startTime:a,endTime:n})}}))),r.a.createElement(Ye.a,{item:!0,xs:6},r.a.createElement(Re.a,null,r.a.createElement(it.b,{autoOk:!0,label:"Start Time",required:!0,minutesStep:5,value:this.state.startTime,onChange:function(t){var a=B()(t),n=B()(e.state.endTime),r=B()(a.format("yyyy/MM/DD")),i=B()(n.format("yyyy/MM/DD"));r.isSame(i)&&(n=B()(t).add(1,"hours"),e.setState({endTime:n.toDate()})),e.setState({startTime:t})}}))),r.a.createElement(Ye.a,{item:!0,xs:6},r.a.createElement(Re.a,null,r.a.createElement(nt.a,{autoOk:!0,label:"End Date",required:!0,value:this.state.endTime,format:"yyyy/MM/dd",onChange:function(t){var a=B()(e.state.startTime),n=B()(t);B()(a.format("yyyy/MM/dd"))<B()(n.format("yyyy/MM/dd"))&&(a.year(n.year()).month(n.month()).date(n.date()),e.setState({startTime:a})),e.setState({endTime:n})},maxDate:B()().toDate()}))),r.a.createElement(Ye.a,{item:!0,xs:6},r.a.createElement(Re.a,null,r.a.createElement(it.b,{autoOk:!0,label:"End Time",required:!0,minutesStep:5,value:this.state.endTime,onChange:function(t){e.setState({endTime:t})}}))))),r.a.createElement("br",null),r.a.createElement(Re.a,{fullWidth:!0},r.a.createElement(rt.a,{htmlFor:"description"},"Description"),r.a.createElement(ee.a,{id:"description",onChange:function(t){e.setState({description:t.target.value})}})))),r.a.createElement(v.a,null,r.a.createElement(f.a,{onClick:this.props.handleClose,color:"secondary"},"Cancel"),r.a.createElement(f.a,{onClick:this.submit,color:"primary"},"Submit")))}}]),a}(n.Component);var lt=Object(z.b)((function(e){return{activityTypeList:e.activityTypeList}}),(function(e){return{newLog:function(t,a,n,r,i,o,l){return e(function(e,t,a,n,r,i,o){return{type:"NEW_LOG",userID:e,token:t,title:a,activityTypeName:n,startTime:r,endTime:i,description:o,loadLogHistory:function(e,t,a){return a(re(e,t))},loadDashBoard:function(e,t,a){return a(J(e,t))}}}(t,a,n,r,i,o,l))}}}))(ot),ct=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={startDate:e.startDate,endDate:e.endDate,minimumDate:e.startDate,maximumDate:e.endDate},n.submit=n.submit.bind(Object(s.a)(n)),n}return Object(c.a)(a,[{key:"submit",value:function(){this.props.handleClose(),this.props.updateDates(this.state.startDate,this.state.endDate),this.props.updateHistory(localStorage.getItem("uid"),null),this.props.updateDashBoard(localStorage.getItem("uid"),null)}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{open:this.props.open,onClose:this.props.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(b.a,{id:"edit-user-profile"},"Duration"),r.a.createElement(y.a,null,r.a.createElement("form",null,r.a.createElement(le.a,{utils:se.default},r.a.createElement(Ye.a,{container:!0,spacing:3},r.a.createElement(Ye.a,{item:!0,xs:6},r.a.createElement(Re.a,{className:""},r.a.createElement(nt.a,{autoOk:!0,label:"Start Date",value:this.state.startDate,format:"yyyy/MM/dd",onChange:function(t){e.setState({startDate:t,minimumDate:t})},maxDate:this.state.maximumDate}))),r.a.createElement(Ye.a,{item:!0,xs:6},r.a.createElement(Re.a,null,r.a.createElement(nt.a,{autoOk:!0,label:"End Date",value:this.state.endDate,format:"yyyy/MM/dd",onChange:function(t){e.setState({endDate:t,maximumDate:t})},minDate:this.state.minimumDate}))))))),r.a.createElement(v.a,null,r.a.createElement(f.a,{onClick:this.props.handleClose,color:"secondary"},"Cancel"),r.a.createElement(f.a,{onClick:this.submit,color:"primary"},"Submit")))}}]),a}(n.Component);var st=Object(z.b)(null,(function(e){return{updateDashBoard:function(t,a){return e(J(t,a))},updateHistory:function(t,a){return e(re(t,a))}}}))(ct),ut=function(e){var t=Number(e);return[Math.floor(t/3600),Math.floor(t/60)%60,t=Math.floor(t)%60].map((function(e,t){return e<10?"0"+e:e})).join(":")};a(358);var mt=a(385),dt=a.n(mt),pt=a(330);var ft=Object(z.b)((function(e){return{stopWatchTime:e.stopWatchTime}}),(function(e){return{updateTime:function(t){e({type:"UPDATE_TIME",time:t})}}}))((function(e){var t=Object(n.useState)(0),a=Object(p.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(0),c=Object(p.a)(l,2),s=c[0],u=c[1],m=Object(n.useState)(!0),d=Object(p.a)(m,2),b=d[0],g=d[1],E=Object(n.useState)(!1),T=Object(p.a)(E,2),D=T[0],O=T[1],j=function(e){var t=r.a.useRef(0),a=r.a.useRef(0),n=function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(a.current){var i=r-a.current;e(i)}a.current=r,t.current=requestAnimationFrame(n)},i=function(){a.current=0,cancelAnimationFrame(t.current)};return r.a.useEffect((function(){return i}),[]),[function(){t.current=requestAnimationFrame(n)},i]}((function(e){return o((function(t){return t+e/1e3}))})),S=Object(p.a)(j,2),k=S[0],w=S[1],C=Object(n.useCallback)((function(){e.updateTime(i.toFixed(1))}),[e,i]);return Object(n.useEffect)((function(){u(e.stopWatchTime%60*5/3)}),[e.stopWatchTime]),Object(n.useEffect)((function(){C()}),[C]),r.a.createElement(h.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title",maxWidth:"md"},r.a.createElement(v.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"secondary"},r.a.createElement(dt.a,{style:{fontSize:35}}))),r.a.createElement(y.a,null,r.a.createElement("center",null,r.a.createElement("div",{className:"clock-inner"},r.a.createElement(pt.a,{className:"clock-animation",thickness:.5,variant:"static",size:"25rem",value:s}),r.a.createElement("h1",{className:"timer"},ut(e.stopWatchTime)),r.a.createElement("svg",{width:"400",height:"400"},r.a.createElement("circle",{cx:"200",cy:"200",r:"197"}),r.a.createElement("circle",{cx:"200",cy:"200",r:"187"}))),r.a.createElement("div",{className:"buttons"},r.a.createElement("div",{className:b?"circle-button-primary":"circle-button-grey"},r.a.createElement("svg",{width:"5em",height:"5em",viewBox:"0 0 14 14",onClick:function(){b&&k(),b&&(u(0),g(!1)),O(!0)}},r.a.createElement("path",{fillRule:"evenodd",d:"M10.804 8L5 4.633v6.734L10.804 8zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692z"}))),r.a.createElement("div",{className:D?"circle-button-red":"circle-button-grey"},r.a.createElement("svg",{width:"5em",height:"5em",viewBox:"0 0 24 21",onClick:function(){w(),o(0),D&&O(!1),g(!0),e.handleClose(),e.openAddLogDialog(i)}},r.a.createElement("path",{d:"M16 8v8H8V8h8m0-2H8c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z"})))))))})),ht=Object(E.a)((function(e){return{drawer:Object(xe.a)({},e.breakpoints.up("sm"),{width:"15vw",flexShrink:0,height:"calc(100%)"}),toolbar:e.mixins.toolbar,drawerPaper:{width:"15vw"}}}));var bt=function(e){var t=ht(),a=r.a.useState(3600),n=Object(p.a)(a,2),i=n[0],o=n[1],l=r.a.useState(!1),c=Object(p.a)(l,2),s=c[0],u=c[1],m=r.a.useState(!1),h=Object(p.a)(m,2),b=h[0],y=h[1],g=r.a.useState(!1),v=Object(p.a)(g,2),E=v[0],T=v[1],D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3600;u(!0),o(e)},O=Object(d.f)(),j=r.a.createElement("div",null,r.a.createElement("div",{className:t.toolbar}),r.a.createElement(Me.a,null,r.a.createElement("div",{className:"sidebar-button"},r.a.createElement(Ne.a,{direction:"right",in:!0,timeout:{appear:500,enter:500,exit:500}},r.a.createElement(Ae.a,{className:"sidebar-list"},r.a.createElement(f.a,{startIcon:r.a.createElement(ze.a,null),className:"sidebar-list-item",onClick:D,variant:"contained",fullWidth:!0,color:"primary"},"Add Log"))),r.a.createElement(Ne.a,{direction:"right",in:!0,timeout:{appear:800,enter:800,exit:800}},r.a.createElement(Ae.a,{className:"sidebar-list"},r.a.createElement(f.a,{startIcon:r.a.createElement(at.a,null),className:"sidebar-list-item",onClick:function(){T(!0)},variant:"contained",fullWidth:!0,color:"primary"},"Stopwatch"))),r.a.createElement(Ne.a,{direction:"right",in:!0,timeout:{appear:1200,enter:1200,exit:1200}},r.a.createElement(Ae.a,{className:"sidebar-list"},r.a.createElement(f.a,{startIcon:r.a.createElement(Ve.a,null),className:"sidebar-list-item",onClick:function(){y(!0)},variant:"contained",fullWidth:!0,color:"primary"},"Duration")))),r.a.createElement(Ne.a,{direction:"right",in:!0,timeout:{appear:1200,enter:1200,exit:1200}},r.a.createElement(Ae.a,{className:"sidebar-list"},r.a.createElement(le.a,{utils:se.default},r.a.createElement(Ye.a,{container:!0,spacing:3},r.a.createElement(Ye.a,{item:!0,xs:10},r.a.createElement(Re.a,{className:""},r.a.createElement(nt.a,{autoOk:!0,label:"Start Date",value:localStorage.getItem("startDate"),format:"yyyy/MM/dd",disabled:!0}))))))),r.a.createElement(Ne.a,{direction:"right",in:!0,timeout:{appear:1200,enter:1200,exit:1200}},r.a.createElement(Ae.a,{className:"sidebar-list"},r.a.createElement(le.a,{utils:se.default},r.a.createElement(Ye.a,{container:!0,spacing:3},r.a.createElement(Ye.a,{item:!0,xs:10},r.a.createElement(Re.a,null,r.a.createElement(nt.a,{autoOk:!0,label:"End Date",value:localStorage.getItem("endDate"),format:"yyyy/MM/dd",disabled:!0})))))))),r.a.createElement(Fe.a,null),r.a.createElement(Me.a,null,r.a.createElement(Ne.a,{direction:"right",in:!0,timeout:{appear:1500,enter:1500,exit:1500}},r.a.createElement(Ae.a,{button:!0,key:"Board",onClick:function(){O.push("/board")}},r.a.createElement(_e.a,null,r.a.createElement(qe.a,null)),r.a.createElement(He.a,{primary:"Board"}))),r.a.createElement(Ne.a,{direction:"right",in:!0,timeout:{appear:1800,enter:1800,exit:1800}},r.a.createElement(Ae.a,{button:!0,key:"History",onClick:function(){O.push("/history")}},r.a.createElement(_e.a,null,r.a.createElement(Je.a,null)),r.a.createElement(He.a,{primary:"History"}))),r.a.createElement(Ne.a,{direction:"right",in:!0,timeout:{appear:2100,enter:2100,exit:2100}},r.a.createElement(Ae.a,{button:!0,key:"Activity",onClick:function(){O.push("/activity")}},r.a.createElement(_e.a,null,r.a.createElement(Qe.a,null)),r.a.createElement(He.a,{primary:"Activity"}))),r.a.createElement(Ne.a,{direction:"right",in:!0,timeout:{appear:2400,enter:2400,exit:2400}},r.a.createElement(Ae.a,{button:!0,key:"Timebox",onClick:function(){O.push("/timebox")},style:{display:"none"}},r.a.createElement(_e.a,null,r.a.createElement($e.a,null)),r.a.createElement(He.a,{primary:"Timebox"}))),r.a.createElement(Fe.a,{style:{margin:"25px 20px"}}),r.a.createElement(Ne.a,{direction:"right",in:!0,timeout:{appear:2700,enter:2700,exit:2700}},r.a.createElement("a",{className:"report-button",href:"https://github.com/software-system-lab/timelog_web/issues",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ae.a,{button:!0,key:"Report Issue"},r.a.createElement(_e.a,null,r.a.createElement(et.a,{color:"secondary"})),r.a.createElement(He.a,{primary:"Report Issue"}))))));return r.a.createElement("nav",{className:t.drawer},r.a.createElement(Be.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},j),r.a.createElement(lt,{className:"AddLog",duration:i,open:s,handleClose:function(){u(!1)}}),r.a.createElement(st,{className:"Duration",open:b,handleClose:function(){y(!1)},startDate:e.startDate,endDate:e.endDate,updateDates:e.updateDates}),r.a.createElement(ft,{className:"Stopwatch",open:E,handleClose:function(){T(!1)},openAddLogDialog:D}))},yt=a(264),gt=a(561),vt=a(168),Et=a(394),Tt=a.n(Et),Dt=(a(510),a(580));a(511);function Ot(){var e=Object(n.useState)(localStorage.getItem("displayName")),t=Object(p.a)(e,1)[0],a=Object(n.useState)(localStorage.getItem("cn")),i=Object(p.a)(a,1)[0],o=Object(n.useState)(localStorage.getItem("mail")),l=Object(p.a)(o,1)[0];return r.a.createElement("center",null,r.a.createElement("div",{className:"profile-box"},r.a.createElement("div",{className:"profile-split"}),r.a.createElement(Dt.a,{className:"avatar-name",alt:t,src:"/broken-image.jpg"}),r.a.createElement("div",{className:"profile-split"}),r.a.createElement("div",null,r.a.createElement("p",null,t),r.a.createElement("p",null,i),r.a.createElement("p",null,l)),r.a.createElement("div",{className:"profile-split"}),r.a.createElement(f.a,{className:"logout-btn",variant:"contained",color:"primary",style:{minWidth:"6vw"},onClick:function(){localStorage.clear(),window.location.href="/"}},"LOGOUT")))}var jt=Object(E.a)((function(e){return{root:{display:"flex"},appBar:Object(xe.a)({},e.breakpoints.up("sm"),{width:"calc(100%)",zIndex:e.zIndex.drawer+1,background:"#303030"}),menuButton:Object(xe.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),iconColor:{color:"#fff",backgroundColor:"#00C6CF"},toolbar:e.mixins.toolbar,toolBar:{justifyContent:"space-between"},popover:{width:"150%",height:"150%"}}}));var St=Object(z.b)((function(e){return{timeString:e.stopWatchTime}}),null)((function(e){var t=jt(),a=Object(d.f)(),n=r.a.useState(null),i=Object(p.a)(n,2),o=i[0],l=i[1],c=localStorage.getItem("displayName");return r.a.createElement(gt.a,{position:"fixed",className:t.appBar},r.a.createElement(yt.a,{className:t.toolBar},r.a.createElement(vt.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){e.handleDrawerToggle()},className:t.menuButton},r.a.createElement(Tt.a,null)),r.a.createElement("div",{className:"appbar-LOGO"},r.a.createElement("img",{src:"TIME_LOG.png",alt:"TIMELOG",onClick:function(){a.push("/welcome")}})),r.a.createElement("div",{className:"timer-bar"},r.a.createElement("h1",{className:"timer-header"},"0.0"===e.timeString?"":ut(e.timeString))),r.a.createElement("div",{className:"profile-btn"},r.a.createElement(Dt.a,{className:t.iconColor,alt:c,src:"/broken-image.jpg",onClick:function(e){l(e.currentTarget)},id:"profile-icon"}),r.a.createElement(G.a,{open:Boolean(o),margin:"100px",anchorEl:o,onClose:function(){l(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},className:t.popover},r.a.createElement(Ot,null)))))})),kt=(a(512),a(560)),wt=a(562),Ct=a(137),It=Object(Ct.a)({palette:{primary:{main:"#08bec7",contrastText:"#fff"},secondary:{main:"#ff5f5f"}}}),Lt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={initConfig:{pkceMethod:"S256",onLoad:"login-required"},mobileOpen:!1,startDate:B()().add(-6,"days").toDate(),endDate:B()().toDate()},localStorage.setItem("startDate",n.state.startDate),localStorage.setItem("endDate",n.state.endDate),n.handleDrawerToggle=n.handleDrawerToggle.bind(Object(s.a)(n)),n.updateDates=n.updateDates.bind(Object(s.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(this.props.location.search);if(null!==e.get("uid"))localStorage.setItem("uid",e.get("uid")),localStorage.setItem("cn",e.get("cn")),localStorage.setItem("sn",e.get("sn")),localStorage.setItem("givenName",e.get("givenName")),localStorage.setItem("displayName",e.get("displayName")),localStorage.setItem("mail",e.get("mail"));else if(!localStorage.getItem("uid")){var t="https://ssl-ams.csie.ntut.edu.tw/";return t+="?"+encodeURIComponent("redirect_url="+window.location.href),void window.location.replace(t)}this.props.enterTimelog(localStorage.getItem("uid"),null)}},{key:"handleDrawerToggle",value:function(){this.setState({mobileOpen:!this.mobileOpen})}},{key:"updateDates",value:function(e,t){this.setState({startDate:e,endDate:t}),localStorage.setItem("startDate",e),localStorage.setItem("endDate",t)}},{key:"render",value:function(){return r.a.createElement(kt.a,{theme:It},r.a.createElement(wt.a,null),r.a.createElement("div",{className:"container",style:{maxWidth:"100%"}},r.a.createElement("div",{className:"view"},r.a.createElement(St,{mobileOpen:this.mobileOpen,handleDrawerToggle:this.handleDrawerToggle}),r.a.createElement(bt,{mobileOpen:this.mobileOpen,handleDrawerToggle:this.handleDrawerToggle,startDate:this.state.startDate,endDate:this.state.endDate,updateDates:this.updateDates}),r.a.createElement("div",{className:"main"},r.a.createElement(Le,{startDate:this.state.startDate,endDate:this.state.endDate})))))}}]),a}(n.Component);var xt=Object(z.b)((function(e){return{activityTypeList:e.activityTypeList}}),(function(e){return{enterTimelog:function(t,a){return e(function(e,t){return{type:"ENTER_TIMELOG",userID:e,token:t,setActivityTypeList:function(e,t){return t(oe(e))},setHistory:function(e,t){return t(ne(e))},loadDashBoard:function(e,t,a){return a(J(e,t))}}}(t,a))}}}))(Lt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Mt=a(108),Nt=a(71),At=a(224),Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVITY_TYPE_LIST":return Object(At.a)(t.activityTypeList);default:return e}},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HISTORY":return Object(At.a)(t.logHistory);default:return e}},Ft={totalTime:"",pieData:[]},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DASH_BOARD":return t.dashBoardData;default:return e}},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TIME":return t.time;default:return e}},Bt=Object(Nt.c)({activityTypeList:Yt,logHistory:Rt,dashBoardData:_t,stopWatchTime:Ht}),Pt=a(72),zt=a.n(Pt),Wt="https://ssl-timelog.csie.ntut.edu.tw/api";function Vt(e){return{"Content-Type":"application/json",Authorization:e}}function Gt(e){return{userID:e}}function qt(e,t){return e.toString().length>=t?e:qt("0"+e,t)}function Ut(e){return qt(Math.floor(e/60),2)}function Jt(e){return qt((e%60).toFixed(0),2)}var Xt=function(e){return function(t){return function(a){if("LOAD_ACTIVITY_TYPE_LIST"===a.type){var n=Vt(a.token),r=Gt(a.userID);zt.a.post(Wt+"/activity/all",r,{headers:n}).then((function(t){a.setActivityTypeList(t.data.activityTypeList,e.dispatch)})).catch((function(e){console.log(e),alert("Load activity type list failed")}))}else if("ENTER_TIMELOG"===a.type){var i=Vt(a.token),o=Gt(a.userID);zt.a.post(Wt+"/login",o,{headers:i}).then((function(t){a.setActivityTypeList(t.data.activityTypeList,e.dispatch),o.startDate=B()(localStorage.getItem("startDate")).format("YYYY/MM/DD"),o.endDate=B()(localStorage.getItem("endDate")).format("YYYY/MM/DD"),zt.a.post(Wt+"/log/history",o,{headers:i}).then((function(t){a.setHistory(t.data.logItemList,e.dispatch)})).catch((function(e){console.log(e),alert("Get histroy logs failed")})),a.loadDashBoard(a.userID,a.token,e.dispatch)})).catch((function(e){console.log(e),alert("Login to timelog failed")}))}else if("EDIT_ACTIVITY_TYPE"===a.type){var l=Vt(a.token),c={userID:a.userID,targetActivityTypeName:a.targetActivityTypeName,activityTypeName:a.activityTypeName,isEnable:a.isEnable,isPrivate:a.isPrivate};zt.a.post(Wt+"/activity/edit",c,{headers:l}).then((function(t){a.loadActivityTypeList(a.userID,a.token,e.dispatch),a.loadLogHistory(a.userID,a.token,e.dispatch),a.loadDashBoard(a.userID,a.token,e.dispatch)})).catch((function(e){console.log(e),alert("Edit failed")}))}else if("ADD_ACTIVITY_TYPE"===a.type){var s=Vt(a.token),u={userID:a.userID,activityTypeName:a.activityTypeName,isEnable:a.isEnable,isPrivate:a.isPrivate};zt.a.post(Wt+"/activity/add",u,{headers:s}).then((function(t){a.loadActivityTypeList(a.userID,a.token,e.dispatch)})).catch((function(e){console.log(e),alert("Add activity type failed")}))}else if("REMOVE_ACTIVITY_TYPE"===a.type){var m=Vt(a.token),d={userID:a.userID,activityTypeName:a.activityTypeName};zt.a.post(Wt+"/activity/remove",d,{headers:m}).then((function(t){a.loadActivityTypeList(a.userID,a.token,e.dispatch)})).catch((function(e){console.log(e),alert("Remove activity type failed")}))}else if("NEW_LOG"===a.type){var p=Vt(a.token),f={userID:a.userID,title:a.title,activityTypeName:a.activityTypeName,startTime:a.startTime,endTime:a.endTime,description:a.description};zt.a.post(Wt+"/log/record",f,{headers:p}).then((function(t){a.loadLogHistory(a.userID,a.token,e.dispatch),a.loadDashBoard(a.userID,a.token,e.dispatch)})).catch((function(e){console.log(e),alert("Add log failed")}))}else if("LOAD_LOG_HISTORY"===a.type){var h=Vt(a.token),b=Gt(a.userID);b.startDate=B()(localStorage.getItem("startDate")).format("YYYY/MM/DD"),b.endDate=B()(localStorage.getItem("endDate")).format("YYYY/MM/DD"),zt.a.post(Wt+"/log/history",b,{headers:h}).then((function(t){a.setHistory(t.data.logItemList,e.dispatch)})).catch((function(e){console.log(e),alert("Get histroy logs failed")}))}else if("LOAD_DASH_BOARD"===a.type){var y=Vt(a.token),g=Gt(a.userID);g.startDate=B()(localStorage.getItem("startDate")).format("YYYY/MM/DD"),g.endDate=B()(localStorage.getItem("endDate")).format("YYYY/MM/DD"),zt.a.post(Wt+"/dash-board/spent-time",g,{headers:y}).then((function(t){var n=t.data.totalTime,r=60*parseInt(n.split(":")[0])+parseInt(n.split(":")[1]),i=[["Task","Hours per Project"]],o=[],l=t.data.dataMap;Object.keys(l).forEach((function(e){var t=l[e].timeLength,a=0===r?0:(t/r*100).toFixed(2).toString();i.push([e,t]),o.push({activityTypeName:e,timeLength:Ut(t)+" : "+Jt(t),percentage:a.toString()+" %"})}));var c={totalTime:t.data.totalTime,pieData:i,tableData:o};a.setDashBoard(c,e.dispatch)})).catch((function(e){console.log(e),alert("Get dash board data failed")}))}else if("UPDATE_DASH_BOARD"===a.type){var v=Vt(a.token),E={userID:a.userID,filterList:a.filterList};E.startDate=B()(localStorage.getItem("startDate")).format("YYYY/MM/DD"),E.endDate=B()(localStorage.getItem("endDate")).format("YYYY/MM/DD"),zt.a.post(Wt+"/dash-board/spent-time",E,{headers:v}).then((function(t){var n=t.data.totalTime,r=60*parseInt(n.split(":")[0])+parseInt(n.split(":")[1]),i=[["Task","Hours per Project"]],o=[],l=t.data.dataMap;Object.keys(l).forEach((function(e){var t=l[e].timeLength,a=0===r?0:(t/r*100).toFixed(2).toString();i.push([e,t]),o.push({activityTypeName:e,timeLength:Ut(t)+" : "+Jt(t),percentage:a.toString()+" %"})}));var c={totalTime:t.data.totalTime,pieData:i,tableData:o};a.setDashBoard(c,e.dispatch)})).catch((function(e){console.log(e),alert("Get dash board data failed")}))}else if("REMOVE_LOG"===a.type){var T=Vt(a.token),D=Gt(a.userID);D.logID=a.logID,zt.a.post(Wt+"/log/remove",D,{headers:T}).then((function(t){a.loadLogHistory(a.userID,a.token,e.dispatch),a.loadDashBoard(a.userID,a.token,e.dispatch)})).catch((function(e){console.log(e),alert("Remove log failed")}))}else{if("EDIT_LOG"!==a.type)return t(a);var O=Vt(a.token),j={userID:a.userID,logID:a.logID,title:a.title,activityTypeName:a.activityTypeName,startTime:a.startTime,endTime:a.endTime,description:a.description};zt.a.post(Wt+"/log/edit",j,{headers:O}).then((function(t){a.loadLogHistory(a.userID,a.token,e.dispatch),a.loadDashBoard(a.userID,a.token,e.dispatch)})).catch((function(e){console.log(e),alert("Edit log failed")}))}}}},$t=Object(Nt.e)(Bt,Object(Nt.a)(Xt));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z.a,{store:$t},r.a.createElement(Mt.a,null,r.a.createElement(d.a,{path:"/",component:xt})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[405,1,2]]]);
//# sourceMappingURL=main.6eae677b.chunk.js.map